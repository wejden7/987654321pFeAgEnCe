<section class="content-header" *ngIf="voyage!=null">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm">
          <ol class="breadcrumb ">
            <li class="breadcrumb-item"><a routerLink="/admin/omra">Omra</a></li>
            <li class="breadcrumb-item active">{{voyage.titre}}</li>
          </ol>
        </div>
      </div>
    </div><!-- /.container-fluid -->
  </section>
  <div class="container">
    <div class="row">
      <div class="col-md h-100">
        <!--images-->
        <div class="col-md">
          <div id="carouselExampleFade" class="carousel slide carousel-fade" data-ride="carousel">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img class="d-block w-100" src="http://127.0.0.1:8000/images/voyage/{{name_image_of_voyage}}"
                  alt="First slide">
              </div>
              <div class="carousel-item" *ngFor="let img of images; index as i">
                <img class="d-block w-100" src="http://127.0.0.1:8000/images/voyage/{{img.name}}"
                  alt="Second slide">
              </div>
              
            </div>
            <a class="carousel-control-prev" href="#carouselExampleFade" role="button" data-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleFade" role="button" data-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="sr-only">Next</span>
            </a>
          
          
          
          </div>
        </div>
   
  <div *ngIf="termine" class="col-md">
   
      <h4 style="text-align: center;color: rgb(2, 16, 136);">Programme de voyage</h4>
      <hr>
      <div class="">
        <div  *ngFor="let prog of allprogramme" class="">
          <div class="col ">
            <h3 style="color:  rgb(62, 91, 218);" class="">Jour  {{prog.jour}} <i style="font-size: 13px;" class="float-right" (click)="updeteprograme(prog)" >update</i></h3>
            <p>{{prog.description}}</p>
          </div>
        </div>
      </div>
    
  </div>
      </div>
      <div class="col-md-4 h-100">
    <div class="col col-md h-100 w-100 shadow p-3 mb-1 bg-white rounded">
      <h6>selecte images de voyage <hr></h6>
      <div class="modal-body">
       
        <form [formGroup]="myForm" (ngSubmit)="submit()">
          <div class="form-group">
                       <input 
                              [ngClass]="{ 'is-invalid': submitted && f.file.errors }"
                              formControlName="file"
                              id="file" 
                              type="file" 
                              class="form-control"
                              multiple="" 
                              [(ngModel)]="file"
                              (change)="onFileChange($event)"
                              accept="image/*"
                              class="custom-file-input"
                              id="validatedCustomFile" >
                              <div class="invalid-feedback">select file</div>
          <label class="custom-file-label" for="validatedCustomFile">Nauvele image...</label>
         
           </div>
          <div class="row d-flex justify-content-center">
            <button class="btn  btn-primary " type="submit">enregistrer</button>
            <button (click)="add()" class="btn ml-1 btn-secondary " type="button">Reset</button>
          </div>
           
         </form>
    
      </div>
    </div>
    <div *ngIf="!termine" class="col-md mt-1  shadow p-3 mb-1 bg-white rounded ">
      <!-- add programe de voyage-->
      
       <form [formGroup]="ProgrammeForm"  (submit)="addProgarmme()">
           <div class="form-group shadow-textarea">
             <label  for="exampleFormControlTextarea6"><h5>Programme Jour {{jour}}</h5> </label>
             <textarea  [ngClass]="{ 'is-invalid': submitteprogramme && f3.programme.errors }"  class="form-control z-depth-1" id="exampleFormControlTextarea6" formControlName="programme" name="programme" [(ngModel)]="programme" rows="3" placeholder="Write something here..."></textarea>
             <div *ngIf="submitteprogramme && f3.programme.errors" class="invalid-feedback">
               <div *ngIf="f3.programme.errors.required">programme  et obligatoir</div>
           </div>
           </div>
        <div class="row  d-flex justify-content-center">
         <button *ngIf="!termine && !updete_programme" type="submit" class="btn btn-primary">Enregistrer</button>
         <button (click)='updetemodifier()' *ngIf="!termine && updete_programme" type="button" class="btn btn-primary">misa jour</button>
        </div>     
       </form>
       
   
     <div>
     </div>
     </div>
     <div class="col col-md h-100 w-100  shadow p-3 mb-1 bg-white rounded">
      <h6>Les Periode De Voyage Et Le Prix <hr></h6>
      <form [formGroup]="periodeForm"  (submit)="addperiode()">
        <div class="row mt-3 d-flex justify-content-center ">
          <div class="col-md">
            <div   class="input-group mb-2">
              <div (click)="d.toggle()"class="input-group-prepend">
                <div  class="input-group-text"> <i class="fas fa-calendar-alt"></i></div>
            </div>
            <input  [ngClass]="{ 'is-invalid': submitteperiode && this.date==''&&type=='add'}" formControlName="dp"   class="form-control"   [minDate]="minPickerDate" [placeholder]="updetedate"
               name="dp" [(ngModel)]="model" ngbDatepicker (ngModelChange)="onDateChange($event)" #d="ngbDatepicker">
            </div>
            <div *ngIf="submitteperiode && f2.dp.errors" class="invalid-feedback">
              <div *ngIf="f2.dp.errors.required">selecte date et obligatoir</div>
             
          </div>
            <input [ngClass]="{ 'is-invalid': submitteperiode && f2.prix.errors }" class="form-control " formControlName="prix" [(ngModel)]="prix" name="prix" type="text" placeholder="prix">
            <div *ngIf="submitteperiode && f2.prix.errors" class="invalid-feedback">
              <div *ngIf="f2.prix.errors.pattern">prix  et un real</div>
              <div *ngIf="f2.prix.errors.required">prix  et obligatoir</div>
          </div>
          </div>
        </div>
        <div class="row d-flex justify-content-center">
          <button  *ngIf='type=="add"'   type="submit" class="btn btn-primary mt-1">Enregistre</button>
          <button    *ngIf='type=="updete"'  (click)="Updeteperiod()" type="button" class="btn btn-primary mt-1">Updete</button>  
      
        </div>
    </form>
    <hr>
    <ul>
      <li *ngFor="let p of periode">
        <i class="far fa-calendar-alt"></i>
        {{p.date}}
        <span class="badge badge-success ml-3"> {{p.prix}} <sup>TND</sup> </span>
        <span (click)="updete(p)" class="badge badge-primary float-right ml-1"> <i class="fas fa-pencil-alt"></i></span>
      <span (click)="delete(p.id)"class="badge  badge-danger float-right"><i class="fas fa-trash-alt"></i></span>
     <hr>
    </li>
    </ul>
    </div>   
  </div> 
     
    </div>
  </div>
