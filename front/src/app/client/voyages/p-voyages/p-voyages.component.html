
<div  class="shadow p-3 mb-5 bg-white rounded"><i routerLink="/index/voyages" class="fas fa-home m-1"></i><i class="fas fa-angle-right m-1"></i><a style="color:black;" routerLink="/index/voyages/voyage/{{categorie}}">pays</a> <i class="fas fa-angle-right m-1"></i><a >{{titer}}</a></div>

<!--login-->
<div *ngIf="login"> 
    <div class="container">
        <div class="row">
          <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
            <div class="card card-signin my-5">
              <div class="card-body">
                <h5 class="card-title text-center">Connexion</h5>
                <hr>
                <div *ngIf="Unauthorised" class="alert alert-danger" role="alert">
                  erreur nexiste pas
                </div>
                <form class="form-signin" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                  <div class="form-label-group mb-3">
                    <input [ngClass]="{ 'is-invalid': submitted && f.email.errors }"formControlName="email" type="email" class="form-control" id="inlineFormInputGroup" placeholder="Adresse e-mail">
                    <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                        <div *ngIf="f.email.errors.required">Email is required</div>
                        <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
                    </div>
                  </div>
    
                  <div class="form-label-group mb-3">
                    <input formControlName="password"  [ngClass]="{ 'is-invalid': submitted && f.password.errors }" type="password" class="form-control" id="inlineFormInputGroup" placeholder="mot de passe">
                <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
                    <div *ngIf="f.password.errors.required">Password is required</div>
                    <div *ngIf="f.password.errors.minlength">Password must be at least 8 characters</div>
                </div>
                  </div>
    
                  
                  <button class="btn btn-lg btn-primary btn-block text-uppercase" type="submit">Connexion</button>
                  <hr class="my-4">
                  <div class="" style="text-align: center;">
                    <a (click)="login=false;registre=true">  insecription </a>
                   </div>
                
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
</div>
<!--registre-->
<div class="m-5" *ngIf="registre">
    <form [formGroup]="registerForm2" (ngSubmit)="onSubmit2()"> 
        <div class="container shadow p-3 mb-5 bg-white rounded w-50">
            <div class="row  justify-content-center">
                <div class="col-mx-auto">
                    <div class="input-group mb-2 ">
                        <img src="./../../../assets/titre.png" style="width: 100px; height: 100px;"  alt="">
                      </div>
                  </div>
                  
            </div>
            <hr>
            <div class="row  justify-content-center">
               
                <div class="col-md-6">
                    <div class="input-group mb-2">
                        <input [ngClass]="{ 'is-invalid': submitted2 && f2.email.errors }"formControlName="email" type="email" class="form-control" id="inlineFormInputGroup" placeholder="Adresse e-mail">
                        <div *ngIf="submitted2 && f2.email.errors" class="invalid-feedback">
                            <div *ngIf="f2.email.errors.required">Email is required</div>
                            <div *ngIf="f2.email.errors.email">Email must be a valid email address</div>
                        </div>
                    </div>
                      
                  </div>
                 
            </div>
            <div class="row  justify-content-center">
                <div class="col-md-6">
                    <div class="input-group mb-2">
                        <input  [ngClass]="{ 'is-invalid': submitted2 && f2.nom.errors }"formControlName="nom" type="text" class="form-control" id="inlineFormInputGroup" placeholder="Nom">
                        <div *ngIf="submitted2 && f2.nom.errors" class="invalid-feedback">
                            <div *ngIf="f2.nom.errors.required">nom is required</div>
                           
                          
                        </div>
                    </div>
                  
                  </div>
            </div>
            <div class="row  justify-content-center">
              <div class="col-md-6">
                <div class="input-group mb-2">
                    <input  [ngClass]="{ 'is-invalid': submitted2 && f2.tel.errors }"formControlName="tel" type="text" class="form-control" id="inlineFormInputGroup" placeholder="telephone">
                    <div *ngIf="submitted2 && f2.tel.errors" class="invalid-feedback">
                        <div *ngIf="f2.tel.errors.required">tel is required</div>
                        <div *ngIf="f2.tel.errors.minlength">tel 8 characters</div>

                      
                    </div>
                </div>
              
              </div>
            </div>
           
       <div class="row  justify-content-center">
        <div class="col-md-6">
            <div class="input-group mb-2">
                <input formControlName="password"  [ngClass]="{ 'is-invalid': submitted2 && f2.password.errors }" type="password" class="form-control" id="inlineFormInputGroup" placeholder="mot de passe">
                <div *ngIf="submitted2 && f2.password.errors" class="invalid-feedback">
                    <div *ngIf="f2.password.errors.required">Password is required</div>
                    <div *ngIf="f2.password.errors.minlength">Password must be at least 8 characters</div>
                </div>
            </div>
          </div>
       </div>
      
       <div class="col-md-4 mt-3  offset-md-4">
        <button type="submit" style="background-color: #003580;" class="btn  w-100"><h6 style="color: rgb(255, 255, 255);">créer compte</h6></button>
       </div>
       
    </div>
      </form>
</div>

<div *ngIf="reserve_submitted&&reserver_valide">
  <div class="alert alert-success mx-auto" style="text-align: center;" role="alert">
     <div class="container">
       <div class="row justify-content-center">
          <h6>reservation valide print <a style="color: rgb(33, 0, 223);" (click)="onPrint()"><i class="fas fa-print"></i></a></h6>
      </div>
 </div>
</div>
</div>

<div *ngIf="!login&&!registre">
  <div  class="container mt-5">
      <div class="row justify-content-center ">
        <div class="col w">
          <img class="w-100" src="http://127.0.0.1:8000/images/voyage/{{image_couverteur}}"alt="">
          <div class="card-img-overlay">
            <h5 class="card-title">{{titre}}</h5>
           
          </div>
        </div>
            <!--afichage de periode-->
          <div class="col-md-6 mt-5">
            <div class="card shadow-lg p-3 mb-5 bg-white rounded">
                <div class="card-body">
                    <h5 style="text-align: center;">Reservation</h5>
                    <hr>
                        <div class="col bloc">
                          <div class="row  justify-content-center">
                            <h4 style="color: blue;"> <small style="color: black;">à partir de </small>{{prix}} TND/adulte</h4>
                           </div>
                           <div class="select">
                            <select class="" (change)="filterForeCasts($event.target.value)">
                              
                                <option *ngFor="let p of periodes; let i = index" value={{i}}>
                                    {{p.date|date:'dd/MM/yyyy'}} au {{ajouter(p.date)|date:'dd/MM/yyyy'}}
                                </option>
                              </select>
                           </div>
                       
                        
                        <div class=" row w-50 ">
                            <button style="color: rgb(255, 255, 255);" (click)="reserver()" type="button" class="btn mt-2 btn-warning w-100"> Réserver  <i class="fas fa-angle-right  ml-2"></i></button>
                        </div>
                </div>
              </div>
          </div>
           <!--afficher programme-->
      </div>
  </div>
 
</div>
</div>
 <div class="container  mt-5 ">
  <div class="row ">
    <div class="col-md  ">
      <h4 style="text-align: center;color: rgb(2, 16, 136);">Programme de voyage</h4>
      <hr>
      <div class="">
        <div  *ngFor="let prog of programmes" class="">
          <div class="col ">
            <h3 style="color:  rgb(62, 91, 218);" class="">Jour  {{prog.jour}}</h3>
            <p>{{prog.description}}</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col">
      <div class="row  mb-2" >
        <div  style="width: 20rem;" class="text-white col-6 mb-1" *ngFor="let img of images; index as i" >
          <img  src="http://127.0.0.1:8000/images/voyage/{{img.name}}" class="card-img h-100 w-100" alt="...">
          
        </div>
      </div>
      
    </div>
  </div>
   
  </div>
  
 